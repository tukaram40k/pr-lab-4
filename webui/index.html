<!DOCTYPE html>
<html>
<head>
  <style>
      body { display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); height: 100vh; margin: 0; gap: 2px; }
      div { border: 1px solid #ccc; padding: 10px; overflow: auto; }
      pre { word-wrap: break-word; white-space: pre-wrap; }
  </style>
</head>
<body>
<div>
  <input id="k" placeholder="key">
  <input id="v" placeholder="value">
  <button onclick="w()">Write</button>
  <button onclick="r(4567,0)">Read</button>
  <pre id="o0"></pre>
</div>
<div><button onclick="r(4568,1)">Read</button><pre id="o1"></pre></div>
<div><button onclick="r(4569,2)">Read</button><pre id="o2"></pre></div>
<div><button onclick="r(4570,3)">Read</button><pre id="o3"></pre></div>
<div><button onclick="r(4571,4)">Read</button><pre id="o4"></pre></div>
<div><button onclick="r(4572,5)">Read</button><pre id="o5"></pre></div>
<script>
  async function w() {
    try {
      const res = await fetch('http://localhost:4567/write', {
        method: 'PUT',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({key: k.value, value: v.value})
      });
      o0.textContent = await res.text();
    } catch(e) { o0.textContent = e; }
  }
  async function r(port, id) {
    try {
      const res = await fetch(`http://localhost:${port}/read`);
      document.getElementById('o'+id).textContent = await res.text();
    } catch(e) { document.getElementById('o'+id).textContent = e; }
  }
</script>
</body>
</html>